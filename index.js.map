{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '41712066-bd7b5e249df7a86bd45ef70ea';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst BASE_PARAMS = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nexport const fetchImages = query => {\n  const q = (query ?? '').trim();\n\n  const param = new URLSearchParams({ ...BASE_PARAMS, q });\n  const url = `${BASE_URL}?${param.toString()}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    } else {\n      return res.json();\n    }\n  });\n};\n","export const createCard = img => {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${img.webformatURL}\"\n        alt=\"${img.tags}\"\n        />\n    </a>\n    <div class=\"container-description-img\">\n        <div class=\"description-item\">\n          <span class=\"img-label\">likes</span>\n          <span class=\"img-value\">${img.likes}</span>\n        </div>\n        <div class=\"description-item\">\n          <span class=\"img-label\">views</span>\n          <span class=\"img-value\">${img.views}</span>\n        </div>\n         <div class=\"description-item\">\n          <span class=\"img-label\">comments</span>\n          <span class=\"img-value\">${img.comments}</span>\n        </div>\n           <div class=\"description-item\">\n          <span class=\"img-label\">downloads</span>\n          <span class=\"img-value\">${img.downloads}</span>\n        </div>\n    </div>\n  </li>\n  `;\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { createCard } from './js/render-functions';\n\nconst refs = {\n  listImg: document.querySelector('.gallery'),\n  formSearch: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.loader.style.display = 'none';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst onFormSearchSubmit = e => {\n  e.preventDefault();\n  const inputValue = e.target.elements.search.value;\n\n  if (!inputValue) return;\n\n  refs.loader.style.display = 'block';\n  fetchImages(inputValue)\n    .then(res => {\n      if (!res.hits.length) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        refs.listImg.innerHTML = '';\n        refs.formSearch.reset();\n        return;\n      }\n\n      const card = res.hits.map(card => createCard(card)).join('');\n\n      refs.listImg.innerHTML = card;\n      refs.formSearch.reset();\n      lightbox.refresh();\n    })\n    .catch(err => console.log(err.status))\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n};\n\nrefs.formSearch.addEventListener('submit', onFormSearchSubmit);\n"],"names":["API_KEY","BASE_URL","BASE_PARAMS","fetchImages","query","q","param","url","res","createCard","img","refs","lightbox","SimpleLightbox","onFormSearchSubmit","e","inputValue","iziToast","card","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAc,CAClB,IAAKF,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEaG,EAAcC,GAAS,CAClC,MAAMC,GAAKD,GAAS,IAAI,KAAI,EAEtBE,EAAQ,IAAI,gBAAgB,CAAE,GAAGJ,EAAa,EAAAG,CAAC,CAAE,EACjDE,EAAM,GAAGN,CAAQ,IAAIK,EAAM,SAAU,CAAA,GAE3C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAKA,EAAI,GAGP,OAAOA,EAAI,OAFX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAIhC,CAAG,CACH,ECvBaC,EAAaC,GACjB;AAAA,oCAC2BA,EAAI,aAAa;AAAA;AAAA;AAAA,eAGtCA,EAAI,YAAY;AAAA,eAChBA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAMaA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,oCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,oCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,oCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,IClB3CC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,EAC1C,WAAY,SAAS,cAAc,OAAO,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAqBC,GAAK,CAC9BA,EAAE,eAAc,EAChB,MAAMC,EAAaD,EAAE,OAAO,SAAS,OAAO,MAEvCC,IAELL,EAAK,OAAO,MAAM,QAAU,QAC5BR,EAAYa,CAAU,EACnB,KAAKR,GAAO,CACX,GAAI,CAACA,EAAI,KAAK,OAAQ,CACpBS,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDN,EAAK,QAAQ,UAAY,GACzBA,EAAK,WAAW,QAChB,MACD,CAED,MAAMO,EAAOV,EAAI,KAAK,IAAIU,GAAQT,EAAWS,CAAI,CAAC,EAAE,KAAK,EAAE,EAE3DP,EAAK,QAAQ,UAAYO,EACzBP,EAAK,WAAW,QAChBC,EAAS,QAAO,CACtB,CAAK,EACA,MAAMO,GAAO,QAAQ,IAAIA,EAAI,MAAM,CAAC,EACpC,QAAQ,IAAM,CACbR,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EACL,EAEAA,EAAK,WAAW,iBAAiB,SAAUG,CAAkB"}